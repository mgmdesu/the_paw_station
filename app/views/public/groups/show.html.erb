<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h2>Group Detail</h2>
      
      <table class="table">
        <tbody>
          <tr>
            <td>名前</td>
            <td>
              <%= image_tag @group.get_group_image, size:'50x50', class: "rounded-circle" %>
              <%= @group.group_name %>
            </td>
          </tr>
          <tr>
            <td>開催日</td>
            <td><%= @group.event_date.strftime("%Y年 %m月 %d日") %></td>
          </tr>
          <tr>
            <td>開催時間</td>
            <td><%= @group.start_at.strftime("%H時%M分") %></td>
          </tr>
          <tr>
            <td>開催場所</td>
            <td><%= @group.location %></td>
          </tr>
          <tr>
            <td>詳細</td>
            <td><%= @group.explanation %></td>
          </tr>
          <tr>
            <td>メンバー</td>
            <td>
              <% @group.users.each do |user| %>
                <li style="list-style: none;"><%= user.name %></li>
              <% end %> 
            </td>
          </tr>
          <tr>
            <td>
              <% if @group.is_owned_by?(current_user) %>
                <%= link_to '編集', edit_group_path(@group), class: "btn btn-sm btn-success" %>
                <%= link_to '削除', group_path(@group), method: :delete, data: { confirm: '本当に削除しますか？' } , class: "btn btn-sm btn-danger" %>
              <% elsif @group.includesUser?(current_user) %>
                <%= link_to '退会する', group_group_users_path(@group), method: :delete, class: "btn btn-sm btn-danger" %>
              <% else %>
                <%= link_to '参加する', group_group_users_path(@group), method: :post, class: "btn btn-sm btn-success" %>
              <% end %>
            </td>
          </tr>
        </tbody>
      </table>
        
      <div class="mx-auto"><%= link_to '一覧に戻る', groups_path %></div>
    </div>
  </div>
</div>